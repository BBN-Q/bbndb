Alembic is used to upgrade any previous database versions to accomodate changes to the schema.

We assume that the database is located at bbndb/BBN.sqlite (where bbndb is the base directory of the package not the source directory.) 

For migrating c.f.:
https://alembic.sqlalchemy.org/en/latest/autogenerate.html

For merging c.f.:
https://alembic.sqlalchemy.org/en/latest/branches.html#merging-branches

When submitting a pull request it will be helpful to indicate whether any migrations are performed.

To create new revisions automatically start with the old version of the database in BBN.sqlite, then run alembic in the new version:


git checkout develop
rm BBN.sqlite
python alembic/fill_db.py # generate db with old schema
git checkout master 
alembic stamp head # Mark version for comparison (set the head)
git checkout my_branch
alembic revision --autogenerate -m "brief notes on update" # Create the diff
git add alembic/versions/abcabc123123_brief_notes_on_update.py # add to version control